webpackJsonp([1],{171:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(12),u=o(s),c=n(172),d=o(c),f=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),r(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"App-todo"},u.default.createElement(d.default,null))}}]),t}(s.Component);t.default=f},172:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(12),u=o(s),c=n(173),d=o(c),f=n(174),p=o(f),h=n(175),g=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={list:h.Storage.fetch()},n.onAddSubmit=n.onAddSubmit.bind(n),n.onChangeIsfinish=n.onChangeIsfinish.bind(n),n.onDeleteItem=n.onDeleteItem.bind(n),n.onToggleAll=n.onToggleAll.bind(n),n.onHasEdited=n.onHasEdited.bind(n),n}return l(t,e),r(t,[{key:"componentDidMount",value:function(){}},{key:"onAddSubmit",value:function(e){console.log("增加了："+e);var t={title:e,isFinished:!1};this.state.list.unshift(t),this.setState({list:this.state.list}),this._saveToSession()}},{key:"_saveToSession",value:function(){h.Storage.save(this.state.list)}},{key:"onChangeIsfinish",value:function(e,t){console.log(t?"第："+e+" 个被选中了":"第："+e+" 被取消了"),this.state.list[e].isFinished=t,this.setState({list:this.state.list}),this._saveToSession()}},{key:"onDeleteItem",value:function(e){console.log("删除了第："+e+" 个"),this.state.list.splice(e,1),this.setState({list:this.state.list}),this._saveToSession()}},{key:"onToggleAll",value:function(e){console.log(e?"全部选中":"全部取消"),this.state.list.map(function(t){t.isFinished=e}),this.setState({list:this.state.list}),this._saveToSession()}},{key:"onHasEdited",value:function(e,t){console.log(t?"重新编辑了第："+e+"个":"删除了第："+e+"个"),t?e&&t&&(this.state.list[e].title=t):this.state.list.splice(e,1),this.setState({list:this.state.list}),this._saveToSession()}},{key:"render",value:function(){return u.default.createElement("div",{className:"todo-wrap"},u.default.createElement("h3",null,"react-todo"),u.default.createElement(d.default,{onAddSubmit:this.onAddSubmit}),u.default.createElement(p.default,{onToggleAll:this.onToggleAll,onDeleteItem:this.onDeleteItem,onChangeIsfinish:this.onChangeIsfinish,onHasEdited:this.onHasEdited,data:this.state.list}),u.default.createElement("p",{className:"icon-tips"},"Double-click to edit a todo"))}}]),t}(u.default.Component);t.default=g},173:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(12),s=function(e){return e&&e.__esModule?e:{default:e}}(r),u=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return console.log(n.props),n.state={title:""},n._changeValueHandle=n._changeValueHandle.bind(n),n._onKeyUpEnter=n._onKeyUpEnter.bind(n),n._onBlurEnter=n._onBlurEnter.bind(n),n.confirmAddItem=n.confirmAddItem.bind(n),n}return a(t,e),l(t,[{key:"componentDidMount",value:function(){document.getElementById("type-input").focus()}},{key:"_changeValueHandle",value:function(e){this.setState({title:e.target.value.trim()})}},{key:"_onKeyUpEnter",value:function(e){13==e.keyCode&&this.confirmAddItem()}},{key:"_onBlurEnter",value:function(e){this.confirmAddItem()}},{key:"confirmAddItem",value:function(){this.state.title&&(this.props.onAddSubmit(this.state.title),this.setState({title:""}))}},{key:"render",value:function(){return s.default.createElement("div",{className:"todo-add"},s.default.createElement("input",{type:"text",id:"type-input",value:this.state.title,onChange:this._changeValueHandle,onKeyUp:this._onKeyUpEnter,onBlur:this._onBlurEnter,ref:"content",maxLength:"20",placeholder:"Please type...."}))}}]),t}(s.default.Component);t.default=u},174:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(12),s=function(e){return e&&e.__esModule?e:{default:e}}(r),u=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return console.log(n.props),n.state={editTitle:"",isOnFocus:!0},n._onChangeChecked=n._onChangeChecked.bind(n),n._toggleAllChecked=n._toggleAllChecked.bind(n),n._deleteCurrent=n._deleteCurrent.bind(n),n._onEditing=n._onEditing.bind(n),n._onChangeEdit=n._onChangeEdit.bind(n),n._onKeyUpEnterEdit=n._onKeyUpEnterEdit.bind(n),n._isOnFocus=n._isOnFocus.bind(n),n._onBlurEdit=n._onBlurEdit.bind(n),n}return a(t,e),l(t,[{key:"_onChangeChecked",value:function(e){e.stopPropagation();var t=e.target,n=t.getAttribute("data-index"),o=t.checked;this.props.onChangeIsfinish(n,o)}},{key:"_toggleAllChecked",value:function(e){e.stopPropagation();var t=e.target.checked;this.props.onToggleAll(t)}},{key:"_deleteCurrent",value:function(e){e.stopPropagation();var t=e.target.getAttribute("data-index");this.props.onDeleteItem(t)}},{key:"componentDidMount",value:function(){}},{key:"_onEditing",value:function(e){e.stopPropagation();var t=e.target;if("LI"===t.nodeName.toUpperCase()){this.doubleCliclTarget=t,this.doubleCliclTarget.className="editing",this.editIndex=t.getAttribute("data-index"),this.beforeEditValue=this.props.data[this.editIndex].title,this.setState({editTitle:this.beforeEditValue});for(var n=this.doubleCliclTarget.children,o=0,i=n.length;o<i;o++)"edit-item"==n[o].className&&n[o].focus()}}},{key:"_onChangeEdit",value:function(e){this.setState({editTitle:e.target.value.trim()})}},{key:"_onKeyUpEnterEdit",value:function(e){13==e.keyCode&&(this.setState({isOnFocus:!1}),this.confirmEditing())}},{key:"_isOnFocus",value:function(e){this.setState({isOnFocus:!0})}},{key:"_onBlurEdit",value:function(e){console.log(this.state.isOnFocus?"通过失去焦点完成了编辑":"通过Enter完成了编辑"),this.state.isOnFocus&&this.confirmEditing()}},{key:"confirmEditing",value:function(){this.editIndex&&(this.doubleCliclTarget.className="",this.props.onHasEdited(this.editIndex,this.state.editTitle))}},{key:"render",value:function(){var e=this,t=function(){var t=0,n=0,o=e.props.data.length,i=o>1?o+" Matters":o+" Matter";return e.props.data.filter(function(e){e.isFinished?t+=1:n+=1}),{completedCount:t,leftCount:n,allTips:i}};return s.default.createElement("div",{className:"todo-list"},s.default.createElement("div",{className:"toggle-all-box"},s.default.createElement("label",null,s.default.createElement("input",{className:"toggle-all",type:"checkbox",checked:0==t().leftCount,onChange:this._toggleAllChecked}))),s.default.createElement("ul",{className:"list-box"},this.props.data.map(function(t,n){return s.default.createElement("li",{key:n,onDoubleClick:e._onEditing,"data-index":n},s.default.createElement("input",{className:"is-hide",type:"checkbox","data-index":n,onChange:e._onChangeChecked,checked:t.isFinished}),s.default.createElement("span",{className:"list-title"},t.title),s.default.createElement("a",{href:"javascript:;",className:"delete-btn","data-index":n,onClick:e._deleteCurrent},"✖"),s.default.createElement("input",{type:"text",className:"edit-item",maxLength:"20","data-index":n,value:e.state.editTitle,onChange:e._onChangeEdit,onKeyUp:e._onKeyUpEnterEdit,onFocus:e._isOnFocus,onBlur:e._onBlurEdit}))})),s.default.createElement("div",{className:"counts-status"},s.default.createElement("span",{className:"finished-count"},"Completed：",t().completedCount),s.default.createElement("span",{className:"left-count"},t().leftCount>1?t().leftCount+" Matters left":t().leftCount+" Matter left"),s.default.createElement("span",{className:"total-count"},t().allTips)))}}]),t}(s.default.Component);t.default=u},175:function(e,t,n){"use strict";function o(e){var t,n,o=String(e),i=o.length;return i>=7?(t=o.slice(-i,-7),n=o.slice(-3),o=t+"****"+n):i<7&&i>=6&&(t=o.slice(-i,-4),n=o.slice(-2),o=t+"**"+n),console.log(o),o}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){return e+t},a={save:function(e){return window.sessionStorage.setItem("REACT-TODO",JSON.stringify(e))},fetch:function(){return JSON.parse(window.sessionStorage.getItem("REACT-TODO")||"[]")},deletedThis:function(e){return window.sessionStorage.removeItem(e)}};t.add=i,t.resetPhone=o,t.Storage=a},176:function(e,t){},79:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var i=n(12),a=o(i),l=n(51),r=o(l);n(78);var s=n(171),u=o(s);n(176),r.default.render(a.default.createElement(u.default,null),document.getElementById("app"))}},[79]);