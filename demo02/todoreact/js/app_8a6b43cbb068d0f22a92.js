webpackJsonp([1],{171:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(12),u=o(s),c=n(172),d=o(c),f=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),l(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"App-todo"},u.default.createElement(d.default,null))}}]),t}(s.Component);t.default=f},172:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(12),u=o(s),c=n(173),d=o(c),f=n(174),p=o(f),h=n(175),g=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={list:h.Storage.fetch()},n.onAddSubmit=n.onAddSubmit.bind(n),n.onChangeIsfinish=n.onChangeIsfinish.bind(n),n.onDeleteItem=n.onDeleteItem.bind(n),n.onToggleAll=n.onToggleAll.bind(n),n.onHasEdited=n.onHasEdited.bind(n),n}return r(t,e),l(t,[{key:"componentDidMount",value:function(){console.log("已經掛載上了")}},{key:"onAddSubmit",value:function(e){console.log(e,"要增加");var t=this.state.list;t.unshift(e),this.setState({list:t}),this._saveToSession()}},{key:"_saveToSession",value:function(){h.Storage.save(this.state.list)}},{key:"onChangeIsfinish",value:function(e,t){var n=this.state.list;n[e]=t,this.setState({list:n}),this._saveToSession()}},{key:"onDeleteItem",value:function(e){var t=this.state.list;t.splice(e,1),console.log(e,t,"將要刪除"),this.setState({list:t}),this._saveToSession()}},{key:"onToggleAll",value:function(e){e.length&&(console.log(e,"全部切换为"),this.setState({list:e}),this._saveToSession())}},{key:"onHasEdited",value:function(e,t){var n=this.state.list;console.log(n,"重新编辑了第"+e+t),t&&void 0!=t?e&&t&&(n[e].title=t):n.splice(e,1),this.setState({list:n}),this._saveToSession()}},{key:"render",value:function(){return u.default.createElement("div",{className:"todo-wrap"},u.default.createElement("h3",null,"react-todo"),u.default.createElement(d.default,{onAddSubmit:this.onAddSubmit}),u.default.createElement(p.default,{onToggleAll:this.onToggleAll,onDeleteItem:this.onDeleteItem,onChangeIsfinish:this.onChangeIsfinish,onHasEdited:this.onHasEdited,data:this.state.list}),u.default.createElement("p",{className:"icon-tips"},"Double-click to edit a todo"))}}]),t}(u.default.Component);t.default=g},173:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(12),s=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={item:{title:"",isFinished:!1}},n._changeValueHandle=n._changeValueHandle.bind(n),n._onKeyUpEnter=n._onKeyUpEnter.bind(n),n._onBlurEnter=n._onBlurEnter.bind(n),n.confirmAddItem=n.confirmAddItem.bind(n),n}return a(t,e),r(t,[{key:"_changeValueHandle",value:function(e){var t=e.target.value.trim();this.setState({item:{title:t,isFinished:!1}})}},{key:"_onKeyUpEnter",value:function(e){13==e.keyCode&&this.confirmAddItem()}},{key:"_onBlurEnter",value:function(e){this.confirmAddItem()}},{key:"confirmAddItem",value:function(){this.state.item.title&&(this.props.onAddSubmit(this.state.item),this.setState({item:{title:"",isFinished:!1}}))}},{key:"render",value:function(){return s.default.createElement("div",{className:"todo-add"},s.default.createElement("input",{type:"text",value:this.state.item.title,onChange:this._changeValueHandle,onKeyUp:this._onKeyUpEnter,onBlur:this._onBlurEnter,ref:"content",maxLength:"20",placeholder:"Please type...."}))}}]),t}(s.default.Component);t.default=u},174:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(12),s=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return console.log(n.props),n.state={editTitle:""},n._onChangeChecked=n._onChangeChecked.bind(n),n._toggleAllChecked=n._toggleAllChecked.bind(n),n._deleteCurrent=n._deleteCurrent.bind(n),n._onEditing=n._onEditing.bind(n),n._onChangeEdit=n._onChangeEdit.bind(n),n._onKeyUpEnterEdit=n._onKeyUpEnterEdit.bind(n),n._onBlurEdit=n._onBlurEdit.bind(n),n}return a(t,e),r(t,[{key:"_onChangeChecked",value:function(e){e.stopPropagation();var t=e.target,n=t.getAttribute("data-index"),o={title:this.props.data[n].title,isFinished:t.checked};this.props.onChangeIsfinish(n,o)}},{key:"_toggleAllChecked",value:function(e){e.stopPropagation();var t=e.target,n=this.props.data;n.map(function(e){e.isFinished=t.checked}),this.props.onToggleAll(n)}},{key:"_deleteCurrent",value:function(e){e.stopPropagation();var t=e.target.getAttribute("data-index");this.props.onDeleteItem(t)}},{key:"componentDidMount",value:function(){}},{key:"_onEditing",value:function(e){e.stopPropagation();var t=e.target;if("LI"===t.nodeName.toUpperCase()){this.doubleCliclTarget=t,this.doubleCliclTarget.className="editing";var n=t.getAttribute("data-index");this.beforeEditValue=this.props.data[n].title,this.setState({editTitle:this.beforeEditValue});for(var o=this.doubleCliclTarget.children,i=0,a=o.length;i<a;i++)"edit-item"==o[i].className&&o[i].focus()}}},{key:"_onChangeEdit",value:function(e){var t=e.target,n=t.value.trim();this.editIndex=t.getAttribute("data-index"),this.setState({editTitle:n})}},{key:"_onKeyUpEnterEdit",value:function(e){13==e.keyCode&&this.confirmEditing()}},{key:"_onBlurEdit",value:function(e){this.confirmEditing()}},{key:"confirmEditing",value:function(){var e=this.state.editTitle;this.doubleCliclTarget.className="",this.props.onHasEdited(this.editIndex,e)}},{key:"render",value:function(){var e=this,t=this.props.data.length>1?this.props.data.length+" Matters":this.props.data.length+" Matter",n=function(){var t=0,n=0;return e.props.data.filter(function(e){e.isFinished?t+=1:n+=1}),{count:t,left:n}};return s.default.createElement("div",{className:"todo-list"},s.default.createElement("div",{className:"toggle-all-box"},s.default.createElement("label",null,s.default.createElement("input",{className:"toggle-all",type:"checkbox",checked:0==n().left&&0!=n().count,onChange:this._toggleAllChecked}))),s.default.createElement("ul",{className:"list-box"},this.props.data.map(function(t,n){return s.default.createElement("li",{key:n,onDoubleClick:e._onEditing,"data-index":n},s.default.createElement("input",{className:"is-hide",type:"checkbox","data-index":n,onChange:e._onChangeChecked,checked:t.isFinished}),s.default.createElement("span",{className:"list-title"},t.title),s.default.createElement("a",{href:"javascript:;",className:"delete-btn","data-index":n,onClick:e._deleteCurrent},"✖"),s.default.createElement("input",{type:"text",className:"edit-item",maxLength:"20","data-index":n,value:e.state.editTitle,onChange:e._onChangeEdit,onKeyUp:e._onKeyUpEnterEdit,onBlur:e._onBlurEdit}))})),s.default.createElement("div",{className:"counts-status"},s.default.createElement("span",{className:"finished-count"},"Completed：",n().count),s.default.createElement("span",{className:"left-count"},n().left>1?n().left+" Matters left":n().left+" Matter left"),s.default.createElement("span",{className:"total-count"},t)))}}]),t}(s.default.Component);t.default=u},175:function(e,t,n){"use strict";function o(e){var t,n,o=String(e),i=o.length;return i>=7?(t=o.slice(-i,-7),n=o.slice(-3),o=t+"****"+n):i<7&&i>=6&&(t=o.slice(-i,-4),n=o.slice(-2),o=t+"**"+n),console.log(o),o}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){return e+t},a={save:function(e){return window.sessionStorage.setItem("REACT-TODO",JSON.stringify(e))},fetch:function(){return JSON.parse(window.sessionStorage.getItem("REACT-TODO")||"[]")},deletedThis:function(e){return window.sessionStorage.removeItem(e)}};t.add=i,t.resetPhone=o,t.Storage=a},176:function(e,t){},79:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var i=n(12),a=o(i),r=n(51),l=o(r);n(78);var s=n(171),u=o(s);n(176),l.default.render(a.default.createElement(u.default,null),document.getElementById("app"))}},[79]);